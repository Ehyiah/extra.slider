!function(e){"use strict";var t=e(window);e.fn.extraSlider=function(n){var a=e.extend({auto:!1,autoPauseEvents:"mouseenter",autoResumeEvents:"mouseleave",direction:"x",draggable:!1,ease:Quad.easeOut,keyboard:!1,margin:1,minDrag:0,navigate:!0,navigation:null,paginate:!0,pagination:null,paginateContent:"",speed:.5,startAt:0,type:"slide",onGotoNext:null,onGotoPrev:null,onInit:null,onMoveEnd:null,onMoveStart:null,onPause:null,onResume:null,onUpdate:null,onUpdateClones:null,onDragStart:null,onDragEnd:null},n);return this.each(function(){function n(){var t={},n={};x.each(function(t){e(this).data("index",t),e(this).data("index-absolute",t)}),f.addClass("extra-slider-"+a.type),"slide"===a.type?(d(),x.each(function(e,n){t={},t[a.direction]=100*e+"%",TweenMax.set(n,t)}),n[a.direction+"Percent"]=100*(C-m),TweenMax.set(h,n)):"fade"===a.type?x.each(function(t){t===C?TweenMax.set(e(this),{autoAlpha:1,zIndex:w+1}):TweenMax.set(e(this),{autoAlpha:0,zIndex:w-t+1})}):"curtain"===a.type&&x.each(function(t){t===C?TweenMax.set(e(this),{zIndex:w+1}):TweenMax.set(e(this),{zIndex:w-t+1})}),x.not(".extra-slider-clone").first().addClass("extra-slider-first")}function i(){"slide"===a.type&&o(),x.removeClass("extra-slider-active"),x.eq(C+m).addClass("extra-slider-active"),a.onUpdate&&a.onUpdate(x.eq(C+m),C),f.trigger("extra:slider:update",[x.eq(C+m),C]),p&&p.update()}function o(){if("slide"!==a.type||void 0!==h[0]._gsTransform){var e=!1,t=C,n=0,i=0,o=0,r=0,s={};C>w?(e=!0,C%=w+1):0>C&&(e=!0,C+=w+1),e&&"slide"===a.type&&(n=h[0]._gsTransform[a.direction+"Percent"],i=-(t+m),i*=100,o=i-n,r=-(100*(C+m)+o),s[a.direction+"Percent"]=r,TweenMax.set(h,s))}}function r(e,t){"slide"===a.type&&o(),x.eq(C+m).addClass("extra-slider-active"),!isNaN(a.auto)&&a.auto>0&&u(),a.onMoveEnd&&e>0&&a.onMoveEnd(x.eq(C+m),C),f.trigger("extra:slider:moveEnd",[x.eq(C+m),C])}function s(t,n){n=void 0!==n?n:a.speed;var i,s={onComplete:r,onCompleteParams:[n],ease:a.ease},d=null;x.removeClass("extra-slider-active"),M=C,C=t,o(),a.onMoveStart&&n>0&&a.onMoveStart(x.eq(C+m),C,M,t),f.trigger("extra:slider:moveStart",[x.eq(C+m),C,M,t]),a.paginate&&a.pagination.length&&a.pagination.each(function(){e(this).find("a").removeClass("extra-slider-link-active").eq(C).addClass("extra-slider-link-active")}),"slide"===a.type?(i=-(C+m),i=100*i,s[a.direction+"Percent"]=i,TweenMax.to(h,n,s)):"fade"===a.type?(x.each(function(e,t){e===C?x.eq(e).css("zIndex",3):e===M?x.eq(e).css("zIndex",2):x.eq(e).css("zIndex",1)}),s.autoAlpha=1,TweenMax.fromTo(x.eq(C),n,{autoAlpha:0},s)):"curtain"===a.type&&(d={},x.each(function(e,t){e===C?x.eq(e).css("zIndex",3):e===M?x.eq(e).css("zIndex",2):x.eq(e).css("zIndex",1)}),t>=M?(s.width="0%",s.left="100%",d.width="100%",d.left="0%"):(s.width="0%",s.left="0%",d.width="100%",d.left="0%"),TweenMax.fromTo(x.eq(C),n,s,d))}function d(){x.find(".extra-slider-clone").remove(),x.first().before(x.slice(-a.margin).clone(!0).addClass("extra-slider-clone")),x.last().after(x.slice(0,a.margin).clone(!0).addClass("extra-slider-clone")),x=h.children("li");var t=x.filter(".extra-slider-clone");m=Math.max(0,t.size()/2),t.each(function(){var t=e(this),n=t.data("index");t.index()<a.margin?n-=w+1:n+=w+1,t.data("index-absolute",n)}),a.onUpdateClones&&a.onUpdateClones(x.eq(C+m),C),f.trigger("extra:slider:updateClones",[x.eq(C+m),C])}function l(e){a.onGotoNext&&a.onGotoNext(x.eq(C+m),C),f.trigger("extra:slider:onGotoNext",[x.eq(C+m),C]),e=void 0!==e?e:a.speed,s(C+1,e)}function c(e){a.onGotoPrev&&a.onGotoPrev(x.eq(C+m),C),f.trigger("extra:slider:onGotoPrev",[x.eq(C+m),C]),e=void 0!==e?e:a.speed,s(C-1,e)}function u(){g&&g.kill(),g=TweenMax.delayedCall(a.auto,function(){l(),u()})}var g,p,f=e(this),v=e("> .wrapper",this),h=v.find("> ul"),x=h.find("> li"),m=0,q=0,w=x.length-1,C=a.startAt,M=w,D=0,T="pause",y="resume",P=!1;a.draggable&&(a.margin+=1),a.navigate&&(!a.navigation||a.navigation&&a.navigation.length&&a.navigation.length<1)&&(a.navigation=f.find(".navigation")),a.paginate&&(!a.pagination||a.pagination&&a.pagination.length&&a.pagination.length<1)&&(a.pagination=f.find(".pagination")),a.autoPauseEvents&&""!=a.autoPauseEvents&&(T+=" "+a.autoPauseEvents),a.autoResumeEvents&&""!=a.autoResumeEvents&&(y+=" "+a.autoResumeEvents),e(this).on("update",function(){i()}),e(this).on("next",function(e,t){l(t)}),e(this).on("prev",function(e,t){c(t)}),e(this).on("goto",function(e,t,n){n=void 0!==n?n:a.speed,s(t,n)}),a.navigate&&a.navigation.length&&a.navigation.each(function(t,n){var a=e(this);a.find("a").length<2&&(e("<a>",{href:"#","class":"next"}).appendTo(a),e("<a>",{href:"#","class":"prev"}).appendTo(a)),e("a.prev",a).on("click",function(e){e.preventDefault(),c()}),e("a.next",a).on("click",function(e){e.preventDefault(),l()})}),a.paginate&&a.pagination.length&&a.pagination.each(function(){var t=e(this);for(D=0;w>=D;D+=1)e("<a>",{href:"#"}).html(""!==a.paginateContent?a.paginateContent.replace("%d",D+1):D+1).appendTo(t);t.find("a").removeClass("extra-slider-link-active").eq(C).addClass("extra-slider-link-active"),e("a",t).each(function(t,n){var a=e(n);a.click(function(e){e.preventDefault(),s(t)})})}),a.keyboard&&t.on("keydown",function(e){(40===e.which||39===e.which)&&(e.preventDefault(),l()),(38===e.which||37===e.which)&&(e.preventDefault(),c())}),!isNaN(a.auto)&&a.auto>0&&(u(),f.on(T,function(e){P||(e.stopImmediatePropagation(),P=!0,a.onPause&&a.onPause(x.eq(C+m),C),f.trigger("extra:slider:pause",[x.eq(C+m),C]),g.pause())}).on(y,function(e){P&&(P=!1,a.onResume&&a.onResume(x.eq(C+m),C),f.trigger("extra:slider:resume",[x.eq(C+m),C]),g.resume())})),a.draggable&&"slide"===a.type&&(f.addClass("extra-slider-draggable"),void 0!==Draggable?(Draggable.create(h,{type:a.direction,cursor:"move",lockAxis:!1,throwProps:!1,zIndexBoost:!1,onDragStart:function(){q="x"===a.direction?x.first().width():x.first().height(),a.onDragStart&&a.onDragStart(x.eq(C+m),C),f.trigger("extra:slider:onDragStart",[x.eq(C+m),C])},onDragEnd:function(){var e,t,n=p[a.direction]/q*100-100*(C-m),i=-(n/100-m),o={};e=a.minDrag>0&&Math.abs(p[a.direction])<=a.minDrag?C:i>C?Math.ceil(i):Math.floor(i),t=-(i+m),t=100*t,o[a.direction]=0,TweenMax.set(h,o),o={},o[a.direction+"Percent"]=t,TweenMax.set(h,o),p.update(),s(e),a.onDragEnd&&a.onDragEnd(x.eq(C+m),C),f.trigger("extra:slider:onDragEnd",[x.eq(C+m),C])}}),p=Draggable.get(h)):console.log("Draggable is not detected. You need to load it to enable drag. More info here : http://www.greensock.com/draggable/")),n(),i(),a.onInit&&a.onInit(x.eq(C+m),C),f.addClass("extra-slider-processed").trigger("extra:slider:init",[x.eq(C+m),C]),s(C)}),this}}(jQuery);