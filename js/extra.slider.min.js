!function(e){"use strict";var n=e(window);e.fn.extraSlider=function(t){var a=e.extend({auto:!1,direction:"x",draggable:!1,ease:Quad.easeOut,forcedDimensions:!1,keyboard:!1,margin:1,minDrag:0,navigate:!0,navigation:null,paginate:!0,pagination:null,paginateContent:"",resizable:!0,resizeEvent:"resize",speed:.5,startAt:0,type:"slide",onGotoNext:null,onGotoPrev:null,onInit:null,onMoveEnd:null,onMoveStart:null,onPause:null,onResume:null,onUpdate:null,onDragStart:null,onDragEnd:null,onDragRepositioned:null},t);return this.each(function(){function t(){var n={},t={};x.each(function(n){e(this).data("index",n)}),"slide"===a.type?(p.addClass("extra-slider-slide"),d(),x.each(function(e,t){n={},n[a.direction]=100*e+"%",TweenMax.set(t,n)}),t[a.direction+"Percent"]=100*(D-m),TweenMax.set(v,t)):"fade"===a.type&&(p.addClass("extra-slider-fade"),x.each(function(n){n===D?TweenMax.set(e(this),{autoAlpha:1,zIndex:w+1}):TweenMax.set(e(this),{autoAlpha:0,zIndex:w-n+1})})),x.not(".extra-slider-clone").first().addClass("extra-slider-first")}function i(){a.forcedDimensions&&v.css({width:"auto",height:"auto"}).width(x.first().width()).height(x.first().height()),"slide"===a.type&&o(),x.removeClass("extra-slider-active"),x.eq(D+m).addClass("extra-slider-active"),a.onUpdate&&a.onUpdate(x.eq(D+m),w+1,p),p.trigger("extra:slider:update",[x.eq(D+m),w+1,p]),f&&f.update()}function o(){if("slide"!==a.type||void 0!==v[0]._gsTransform){var e=!1,n=D,t=0,i=0,o=0,r=0,s={};D>w?(e=!0,D%=w+1):0>D&&(e=!0,D+=w+1),e&&"slide"===a.type&&(t=v[0]._gsTransform[a.direction+"Percent"],i=-(n+m),i*=100,o=i-t,r=-(100*(D+m)+o),s[a.direction+"Percent"]=r,TweenMax.set(v,s))}}function r(e,n){"slide"===a.type&&o(),x.eq(D+m).addClass("extra-slider-active"),!isNaN(a.auto)&&a.auto>0&&c(),a.onMoveEnd&&e>0&&a.onMoveEnd(x.eq(D+m),w+1,p),p.trigger("extra:slider:moveEnd",[x.eq(D+m),w+1,p])}function s(n,t){t=void 0!==t?t:a.speed;var i,s={onComplete:r,onCompleteParams:[t],ease:a.ease};x.removeClass("extra-slider-active"),C=D,D=n,o(),a.onMoveStart&&t>0&&a.onMoveStart(x.eq(D+m),w+1,p),p.trigger("extra:slider:moveStart",[x.eq(D+m),w+1,p]),a.paginate&&a.pagination.length&&a.pagination.each(function(){e(this).find("a").removeClass("extra-slider-link-active").eq(D).addClass("extra-slider-link-active")}),"slide"===a.type?(i=-(D+m),i=100*i,s[a.direction+"Percent"]=i,TweenMax.to(v,t,s)):"fade"===a.type&&(x.each(function(e,n){e===D?x.eq(e).css("zIndex",3):e===C?x.eq(e).css("zIndex",2):x.eq(e).css("zIndex",1)}),s.autoAlpha=1,TweenMax.fromTo(x.eq(D),t,{autoAlpha:0},s))}function d(){x.find(".extra-slider-clone").remove(),x.first().before(x.slice(-a.margin).clone(!0).addClass("extra-slider-clone")),x.last().after(x.slice(0,a.margin).clone(!0).addClass("extra-slider-clone")),x=v.find("> li"),m=x.filter(".extra-slider-clone").size()/2||0,a.onUpdateClones&&a.onUpdateClones(x.eq(D+m),w+1,p),p.trigger("extra:slider:updateClones",[x.eq(D+m),w+1,p])}function l(e){a.onGotoNext&&a.onGotoNext(p),p.trigger("extra:slider:onGotoNext",[x.eq(D+m),w+1,p]),e=void 0!==e?e:a.speed,s(D+1,e)}function g(e){a.onGotoPrev&&a.onGotoPrev(p),p.trigger("extra:slider:onGotoPrev",[x.eq(D+m),w+1,p]),e=void 0!==e?e:a.speed,s(D-1,e)}function c(){u&&u.kill(),u=TweenMax.delayedCall(a.auto,function(){l(),c()})}var u,f,p=e(this),h=e("> .wrapper",this),v=h.find("> ul"),x=v.find("> li"),m=0,q=0,w=x.length-1,D=a.startAt,C=w,M=0;a.draggable&&(a.margin+=1),a.navigate&&(!a.navigation||a.navigation&&a.navigation.length&&a.navigation.length<1)&&(a.navigation=p.find(".navigation")),a.navigate&&(!a.pagination||a.pagination&&a.pagination.length&&a.pagination.length<1)&&(a.pagination=p.find(".pagination")),e(this).on("update",function(){i()}),e(this).on("next",function(e,n){l(n)}),e(this).on("prev",function(e,n){g(n)}),e(this).on("goto",function(e,n,t){t=void 0!==t?t:a.speed,s(n,t)}),a.resizable&&n.on(a.resizeEvent,function(){i()}),a.navigate&&a.navigation.length&&a.navigation.each(function(n,t){var a=e(this);a.find("a").length<2&&(e("<a>",{href:"#","class":"next"}).appendTo(a),e("<a>",{href:"#","class":"prev"}).appendTo(a)),e("a.prev",a).on("click",function(e){e.preventDefault(),g()}),e("a.next",a).on("click",function(e){e.preventDefault(),l()})}),a.paginate&&a.pagination.length&&a.pagination.each(function(){var n=e(this);for(M=0;w>=M;M+=1)e("<a>",{href:"#"}).html(""!==a.paginateContent?a.paginateContent.replace("%d",M+1):M+1).appendTo(n);n.find("a").removeClass("extra-slider-link-active").eq(D).addClass("extra-slider-link-active"),e("a",n).each(function(n,t){var a=e(t);a.click(function(e){e.preventDefault(),s(n)})})}),a.keyboard&&n.on("keydown",function(e){(40===e.which||39===e.which)&&(e.preventDefault(),l()),(38===e.which||37===e.which)&&(e.preventDefault(),g())}),!isNaN(a.auto)&&a.auto>0&&(c(),p.on("mouseenter pause",function(){a.onPause&&a.onPause(p),p.trigger("extra:slider:pause",[x.eq(D+m),w+1,p]),u.pause()}).on("mouseleave resume",function(){a.onResume&&a.onResume(p),p.trigger("extra:slider:resume",[x.eq(D+m),w+1,p]),u.resume()})),a.draggable&&"slide"===a.type&&(p.addClass("extra-slider-draggable"),void 0!==Draggable?(Draggable.create(v,{type:a.direction,cursor:"move",lockAxis:!1,throwProps:!0,zIndexBoost:!1,onDragStart:function(){q="x"===a.direction?x.first().width():x.first().height(),a.onDragStart&&a.onDragStart(x.eq(D+m),w+1,p),p.trigger("extra:slider:onDragStart",[x.eq(D+m),w+1,p])},onDragEnd:function(){var e,n,t=f[a.direction]/q*100-100*(D-m),i=-(t/100-m),o={};e=a.minDrag>0&&Math.abs(f[a.direction])<=a.minDrag?D:i>D?Math.ceil(i):Math.floor(i),n=-(i+m),n=100*n,o[a.direction]=0,TweenMax.set(v,o),o={},o[a.direction+"Percent"]=n,TweenMax.set(v,o),f.update(),s(e),a.onDragEnd&&a.onDragEnd(x.eq(D+m),w+1,p),p.trigger("extra:slider:onDragEnd",[x.eq(D+m),w+1,p])}}),f=Draggable.get(v)):console.log("Draggable is not detected. You need to load it to enable drag. More info here : http://www.greensock.com/draggable/")),t(),i(),a.onInit&&a.onInit(x.eq(D+m),w+1,p),p.addClass("extra-slider-processed").trigger("extra:slider:init",[x.eq(D+m),w+1,p]),s(D)}),this}}(jQuery);