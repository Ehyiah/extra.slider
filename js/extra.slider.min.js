!function(a){"use strict";var b=a(window);a.fn.extraSlider=function(c){var d=a.extend({auto:!1,autoPauseEvents:"mouseenter",autoResumeEvents:"mouseleave",direction:"x",draggable:!1,draggableOptions:{},ease:Quad.easeOut,keyboard:!1,margin:1,minDrag:0,navigate:!0,navigation:null,paginate:!0,pagination:null,paginateContent:"",speed:.5,startAt:0,type:"slide",waitBeforeMove:!1,onGotoNext:null,onGotoPrev:null,onInit:null,onMoveEnd:null,onMoveStart:null,onPause:null,onResume:null,onUpdate:null,onUpdateClones:null,onDragStart:null,onDragEnd:null},c);return this.each(function(){function s(){var e={};g.each(function(b){a(this).data("index",b),a(this).data("index-absolute",b)}),c.addClass("extra-slider-"+d.type),"slide"===d.type?(c.addClass("extra-slider-direction-"+d.direction),x(),e[d.direction+"Percent"]=100*(k-h),TweenMax.set(f,e)):"fade"===d.type?g.each(function(b){b===k?TweenMax.set(a(this),{autoAlpha:1,zIndex:j+1}):TweenMax.set(a(this),{autoAlpha:0,zIndex:j-b+1})}):"curtain"===d.type?g.each(function(b){b===k?TweenMax.set(a(this),{zIndex:j+1}):TweenMax.set(a(this),{zIndex:j-b+1})}):"custom"===d.type&&g.each(function(b){b===k?TweenMax.set(a(this),{zIndex:j+1}):TweenMax.set(a(this),{zIndex:j-b+1})}),g.not(".extra-slider-clone").first().addClass("extra-slider-first")}function t(){"slide"===d.type&&u(),g.removeClass("extra-slider-active"),g.eq(k+h).addClass("extra-slider-active"),d.onUpdate&&d.onUpdate(g.eq(k+h),k),c.trigger("extra:slider:updated",[g.eq(k+h),k]),r&&r.update()}function u(){if("slide"!==d.type||void 0!==f[0]._gsTransform){var a=!1,b=k,c=0,g=0,i=0,l=0,m={};k>j?(a=!0,k%=j+1):k<0&&(a=!0,k+=j+1),a&&"slide"===d.type&&(c=f[0]._gsTransform[d.direction+"Percent"],g=-(b+h),g*=100,i=g-c,l=-(100*(k+h)+i),m[d.direction+"Percent"]=l,TweenMax.set(f,m))}}function v(a,b){"slide"===d.type&&u(),g.eq(k+h).addClass("extra-slider-active"),!isNaN(d.auto)&&d.auto>0&&A(),d.onMoveEnd&&a>0&&d.onMoveEnd(g.eq(k+h),k),c.trigger("extra:slider:moveEnd",[g.eq(k+h),k])}function w(b,e){if(e=void 0!==e?e:d.speed,d.waitBeforeMove!==!0||!TweenMax.isTweening(f)){var i,j={onComplete:v,onCompleteParams:[e],ease:d.ease},m=null;g.removeClass("extra-slider-active"),l=k,k=b,u(),d.onMoveStart&&e>0&&d.onMoveStart(g.eq(k+h),k,l,b),c.trigger("extra:slider:moveStart",[g.eq(k+h),k,l,b]),d.paginate&&d.pagination.length&&d.pagination.each(function(){a(this).find("a").removeClass("extra-slider-link-active").eq(k).addClass("extra-slider-link-active")}),"slide"===d.type?(i=-(k+h),i=100*i,j[d.direction+"Percent"]=i,TweenMax.to(f,e,j)):"fade"===d.type?(g.each(function(a,b){a===k?g.eq(a).css("zIndex",3):a===l?g.eq(a).css("zIndex",2):g.eq(a).css("zIndex",1)}),j.autoAlpha=1,TweenMax.fromTo(g.eq(k),e,{autoAlpha:0},j)):"curtain"===d.type?(m={},g.each(function(a,b){a===k?g.eq(a).css("zIndex",3):a===l?g.eq(a).css("zIndex",2):g.eq(a).css("zIndex",1)}),b>=l?(j.width="0%",j.left="100%",m.width="100%",m.left="0%"):(j.width="0%",j.left="0%",m.width="100%",m.left="0%"),TweenMax.fromTo(g.eq(k),e,j,m)):"custom"===d.type&&(g.each(function(a,b){}),TweenMax.to(f,e,j))}}function x(){g.find(".extra-slider-clone").remove(),g.first().before(g.slice(-d.margin).clone(!0).addClass("extra-slider-clone")),g.last().after(g.slice(0,d.margin).clone(!0).addClass("extra-slider-clone")),g=f.children("li");var b=g.filter(".extra-slider-clone");h=Math.max(0,b.length/2),b.each(function(){var b=a(this),c=b.data("index");b.index()<d.margin?c-=j+1:c+=j+1,b.data("index-absolute",c)}),d.onUpdateClones&&d.onUpdateClones(g.eq(k+h),k),c.trigger("extra:slider:updateClones",[g.eq(k+h),k])}function y(a){d.onGotoNext&&d.onGotoNext(g.eq(k+h),k),c.trigger("extra:slider:onGotoNext",[g.eq(k+h),k]),a=void 0!==a?a:d.speed,w(k+1,a)}function z(a){d.onGotoPrev&&d.onGotoPrev(g.eq(k+h),k),c.trigger("extra:slider:onGotoPrev",[g.eq(k+h),k]),a=void 0!==a?a:d.speed,w(k-1,a)}function A(){n&&n.kill(),n=TweenMax.delayedCall(d.auto,function(){y(),A()})}var n,r,c=a(this),e=a("> .wrapper",this),f=e.find("> ul"),g=f.find("> li"),h=0,i=0,j=g.length-1,k=d.startAt,l=j,m=0,o="pause",p="resume",q=!1;if(d.draggable&&(d.margin+=1),d.navigate&&(!d.navigation||d.navigation&&d.navigation.length&&d.navigation.length<1)&&(d.navigation=c.find(".navigation")),d.paginate&&(!d.pagination||d.pagination&&d.pagination.length&&d.pagination.length<1)&&(d.pagination=c.find(".pagination")),d.autoPauseEvents&&""!=d.autoPauseEvents&&(o+=" "+d.autoPauseEvents),d.autoResumeEvents&&""!=d.autoResumeEvents&&(p+=" "+d.autoResumeEvents),a(this).on("extra:slider:update",function(){t()}),a(this).on("extra:slider:next",function(a,b){y(b)}),a(this).on("extra:slider:prev",function(a,b){z(b)}),a(this).on("extra:slider:goto",function(a,b,c){c=void 0!==c?c:d.speed,w(b,c)}),a(this).on("extra:slider:pause",function(a,b,c){n.pause()}),a(this).on("extra:slider:resume",function(a,b,c){n.resume()}),d.navigate&&d.navigation.length&&d.navigation.each(function(b,c){var d=a(this);d.find("a").length<2&&(a("<a>",{href:"#",class:"next"}).appendTo(d),a("<a>",{href:"#",class:"prev"}).appendTo(d)),a("a.prev",d).on("click",function(a){a.preventDefault(),z()}),a("a.next",d).on("click",function(a){a.preventDefault(),y()})}),d.paginate&&d.pagination.length&&d.pagination.each(function(){var b=a(this);for(m=0;m<=j;m+=1)a("<a>",{href:"#"}).html(""!==d.paginateContent?d.paginateContent.replace("%d",m+1):m+1).appendTo(b);b.find("a").removeClass("extra-slider-link-active").eq(k).addClass("extra-slider-link-active"),a("a",b).each(function(b,c){var d=a(c);d.click(function(a){a.preventDefault(),w(b)})})}),d.keyboard&&b.on("keydown",function(a){40!==a.which&&39!==a.which||(a.preventDefault(),y()),38!==a.which&&37!==a.which||(a.preventDefault(),z())}),!isNaN(d.auto)&&d.auto>0&&(A(),c.on(o,function(a){q||(a.stopImmediatePropagation(),q=!0,d.onPause&&d.onPause(g.eq(k+h),k),c.trigger("extra:slider:paused",[g.eq(k+h),k]),n.pause())}).on(p,function(a){q&&(q=!1,d.onResume&&d.onResume(g.eq(k+h),k),c.trigger("extra:slider:resumed",[g.eq(k+h),k]),n.resume())})),d.draggable&&"slide"===d.type)if(c.addClass("extra-slider-draggable"),void 0!==Draggable){var B=a.extend({type:d.direction,cursor:"move",lockAxis:!1,throwProps:!1,zIndexBoost:!1,onDragStart:function(){i="x"===d.direction?g.first().width():g.first().height(),d.onDragStart&&d.onDragStart(g.eq(k+h),k),c.trigger("extra:slider:onDragStart",[g.eq(k+h),k])},onDragEnd:function(){var e,l,a=r[d.direction]/i*100-100*(k-h),b=-(a/100-h),j={};e=d.minDrag>0&&Math.abs(r[d.direction])<=d.minDrag?k:b>k?Math.ceil(b):Math.floor(b),l=-(b+h),l=100*l,j[d.direction]=0,j[d.direction+"Percent"]=l,TweenMax.set(f,j),w(e),d.onDragEnd&&d.onDragEnd(g.eq(k+h),k),c.trigger("extra:slider:onDragEnd",[g.eq(k+h),k])}},d.draggableOptions);Draggable.create(f,B),r=Draggable.get(f)}else console.log("Draggable is not detected. You need to load it to enable drag. More info here : http://www.greensock.com/draggable/");s(),t(),d.onInit&&d.onInit(g.eq(k+h),k),c.addClass("extra-slider-processed").trigger("extra:slider:init",[g.eq(k+h),k]),w(k,0)}),this}}(jQuery);