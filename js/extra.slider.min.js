!function(e){"use strict";var n=e(window);e.fn.extraSlider=function(t){var a=e.extend({auto:!1,direction:"x",draggable:!1,ease:Quad.easeOut,keyboard:!1,margin:1,minDrag:0,navigate:!0,navigation:null,paginate:!0,pagination:null,paginateContent:"",speed:.5,startAt:0,type:"slide",onGotoNext:null,onGotoPrev:null,onInit:null,onMoveEnd:null,onMoveStart:null,onPause:null,onResume:null,onUpdate:null,onUpdateClones:null,onDragStart:null,onDragEnd:null},t);return this.each(function(){function t(){var n={},t={};v.each(function(n){e(this).data("index",n)}),f.addClass("extra-slider-"+a.type),"slide"===a.type?(l(),v.each(function(e,t){n={},n[a.direction]=100*e+"%",TweenMax.set(t,n)}),t[a.direction+"Percent"]=100*(C-m),TweenMax.set(x,t)):"fade"===a.type?v.each(function(n){n===C?TweenMax.set(e(this),{autoAlpha:1,zIndex:w+1}):TweenMax.set(e(this),{autoAlpha:0,zIndex:w-n+1})}):"curtain"===a.type&&v.each(function(n){n===C?TweenMax.set(e(this),{zIndex:w+1}):TweenMax.set(e(this),{zIndex:w-n+1})}),v.not(".extra-slider-clone").first().addClass("extra-slider-first")}function i(){"slide"===a.type&&o(),v.removeClass("extra-slider-active"),v.eq(C+m).addClass("extra-slider-active"),a.onUpdate&&a.onUpdate(v.eq(C+m),C),f.trigger("extra:slider:update",[v.eq(C+m),C]),p&&p.update()}function o(){if("slide"!==a.type||void 0!==x[0]._gsTransform){var e=!1,n=C,t=0,i=0,o=0,r=0,s={};C>w?(e=!0,C%=w+1):0>C&&(e=!0,C+=w+1),e&&"slide"===a.type&&(t=x[0]._gsTransform[a.direction+"Percent"],i=-(n+m),i*=100,o=i-t,r=-(100*(C+m)+o),s[a.direction+"Percent"]=r,TweenMax.set(x,s))}}function r(e,n){"slide"===a.type&&o(),v.eq(C+m).addClass("extra-slider-active"),!isNaN(a.auto)&&a.auto>0&&g(),a.onMoveEnd&&e>0&&a.onMoveEnd(v.eq(C+m),C),f.trigger("extra:slider:moveEnd",[v.eq(C+m),C])}function s(n,t){t=void 0!==t?t:a.speed;var i,s={onComplete:r,onCompleteParams:[t],ease:a.ease},l=null;v.removeClass("extra-slider-active"),M=C,C=n,o(),a.onMoveStart&&t>0&&a.onMoveStart(v.eq(C+m),C,M,n),f.trigger("extra:slider:moveStart",[v.eq(C+m),C,M,n]),a.paginate&&a.pagination.length&&a.pagination.each(function(){e(this).find("a").removeClass("extra-slider-link-active").eq(C).addClass("extra-slider-link-active")}),"slide"===a.type?(i=-(C+m),i=100*i,s[a.direction+"Percent"]=i,TweenMax.to(x,t,s)):"fade"===a.type?(v.each(function(e,n){e===C?v.eq(e).css("zIndex",3):e===M?v.eq(e).css("zIndex",2):v.eq(e).css("zIndex",1)}),s.autoAlpha=1,TweenMax.fromTo(v.eq(C),t,{autoAlpha:0},s)):"curtain"===a.type&&(l={},v.each(function(e,n){e===C?v.eq(e).css("zIndex",3):e===M?v.eq(e).css("zIndex",2):v.eq(e).css("zIndex",1)}),n>=M?(s.width="0%",s.left="100%",l.width="100%",l.left="0%"):(s.width="0%",s.left="0%",l.width="100%",l.left="0%"),TweenMax.fromTo(v.eq(C),t,s,l))}function l(){v.find(".extra-slider-clone").remove(),v.first().before(v.slice(-a.margin).clone(!0).addClass("extra-slider-clone")),v.last().after(v.slice(0,a.margin).clone(!0).addClass("extra-slider-clone")),v=x.find("> li"),m=v.filter(".extra-slider-clone").size()/2||0,a.onUpdateClones&&a.onUpdateClones(v.eq(C+m),C),f.trigger("extra:slider:updateClones",[v.eq(C+m),C])}function d(e){a.onGotoNext&&a.onGotoNext(f),f.trigger("extra:slider:onGotoNext",[v.eq(C+m),C]),e=void 0!==e?e:a.speed,s(C+1,e)}function c(e){a.onGotoPrev&&a.onGotoPrev(f),f.trigger("extra:slider:onGotoPrev",[v.eq(C+m),C]),e=void 0!==e?e:a.speed,s(C-1,e)}function g(){u&&u.kill(),u=TweenMax.delayedCall(a.auto,function(){d(),g()})}var u,p,f=e(this),h=e("> .wrapper",this),x=h.find("> ul"),v=x.find("> li"),m=0,q=0,w=v.length-1,C=a.startAt,M=w,D=0;a.draggable&&(a.margin+=1),a.navigate&&(!a.navigation||a.navigation&&a.navigation.length&&a.navigation.length<1)&&(a.navigation=f.find(".navigation")),a.navigate&&(!a.pagination||a.pagination&&a.pagination.length&&a.pagination.length<1)&&(a.pagination=f.find(".pagination")),e(this).on("update",function(){i()}),e(this).on("next",function(e,n){d(n)}),e(this).on("prev",function(e,n){c(n)}),e(this).on("goto",function(e,n,t){t=void 0!==t?t:a.speed,s(n,t)}),a.navigate&&a.navigation.length&&a.navigation.each(function(n,t){var a=e(this);a.find("a").length<2&&(e("<a>",{href:"#","class":"next"}).appendTo(a),e("<a>",{href:"#","class":"prev"}).appendTo(a)),e("a.prev",a).on("click",function(e){e.preventDefault(),c()}),e("a.next",a).on("click",function(e){e.preventDefault(),d()})}),a.paginate&&a.pagination.length&&a.pagination.each(function(){var n=e(this);for(D=0;w>=D;D+=1)e("<a>",{href:"#"}).html(""!==a.paginateContent?a.paginateContent.replace("%d",D+1):D+1).appendTo(n);n.find("a").removeClass("extra-slider-link-active").eq(C).addClass("extra-slider-link-active"),e("a",n).each(function(n,t){var a=e(t);a.click(function(e){e.preventDefault(),s(n)})})}),a.keyboard&&n.on("keydown",function(e){(40===e.which||39===e.which)&&(e.preventDefault(),d()),(38===e.which||37===e.which)&&(e.preventDefault(),c())}),!isNaN(a.auto)&&a.auto>0&&(g(),f.on("mouseenter pause",function(){a.onPause&&a.onPause(f),f.trigger("extra:slider:pause",[v.eq(C+m),C]),u.pause()}).on("mouseleave resume",function(){a.onResume&&a.onResume(f),f.trigger("extra:slider:resume",[v.eq(C+m),C]),u.resume()})),a.draggable&&"slide"===a.type&&(f.addClass("extra-slider-draggable"),void 0!==Draggable?(Draggable.create(x,{type:a.direction,cursor:"move",lockAxis:!1,throwProps:!0,zIndexBoost:!1,onDragStart:function(){q="x"===a.direction?v.first().width():v.first().height(),a.onDragStart&&a.onDragStart(v.eq(C+m),C),f.trigger("extra:slider:onDragStart",[v.eq(C+m),C])},onDragEnd:function(){var e,n,t=p[a.direction]/q*100-100*(C-m),i=-(t/100-m),o={};e=a.minDrag>0&&Math.abs(p[a.direction])<=a.minDrag?C:i>C?Math.ceil(i):Math.floor(i),n=-(i+m),n=100*n,o[a.direction]=0,TweenMax.set(x,o),o={},o[a.direction+"Percent"]=n,TweenMax.set(x,o),p.update(),s(e),a.onDragEnd&&a.onDragEnd(v.eq(C+m),C),f.trigger("extra:slider:onDragEnd",[v.eq(C+m),C])}}),p=Draggable.get(x)):console.log("Draggable is not detected. You need to load it to enable drag. More info here : http://www.greensock.com/draggable/")),t(),i(),a.onInit&&a.onInit(v.eq(C+m),C),f.addClass("extra-slider-processed").trigger("extra:slider:init",[v.eq(C+m),C]),s(C)}),this}}(jQuery);